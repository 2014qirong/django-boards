{% extends './base.html' %}
{% load crispy_forms_tags %}

{% block title %}Report{% endblock %}

{% block breadcrumb %}
<ol class="breadcrumb">
  <li><a href="{% url 'board:index' %}">Forum</a></li>
  <li><a href="{% url 'board:reports-list' %}">Reports</a></li>
  <li class="active">{{report.id}}</li>
</ol>
{% endblock %}

{% block content %}
<div class="panel panel-primary">
  <div class="panel-heading">
    <h3 class="panel-title">Resolve Report</h3>
  </div>
  <div class="panel-body">
    <div class="row">
      <div class="col-xs-12">
        <h3>
          Reason for Report
        </h3>
        <div class="well">
          {{report.reason}}
        </div>
      </div>
    </div>
    {% if report.post %}
    <div class="row">
      <div class="col-xs-12">
        <h3>
          Post Content
        </h3>
        <div class="well">
          {{report.post.content.rendered}}
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 align-right">
        <a href="{% url 'board:post-update' report.post.id %}" class="btn btn-success" name="button">Update Post</a>
        <a href="{% url 'board:post-delete' report.post.id %}" class="btn btn-danger" name="button">Delete Post</a>
      </div>
    </div>
    {% elif report.thread %}
    <div class="row">
      <div class="col-xs-12">
        <h3>
          Thread Content
        </h3>
        <div class="well">
          {{report.thread.content.rendered}}
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 align-right">
        <a href="{% url 'board:thread-update' report.thread.id %}" class="btn btn-success" name="button">Update Thread</a>
        <a href="{% url 'board:thread-delete' report.thread.id %}" class="btn btn-danger" name="button">Delete Thread</a>
      </div>
    </div>
    {% endif %}
    {% if not report.resolved %}
    <div class="row">
      <div class="col-xs-12">
        <form method="post">
          {% csrf_token %}
          <input type="submit" class="btn btn-success" value="Mark as Resolved" />
        </form>
      </div>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
