{% extends 'base/base.html' %}
{% load static %}
{% load bbcode_tags %}

{% block title %}{{thread.title}}{% endblock %}

{% block breadcrumb %}
<ol class="breadcrumb">
  <li><a href="/">Forum</a></li>
  <li><a href="{% url 'board:category' thread.category.parent.id %}">{{thread.category.parent.name}}</a></li>
  <li><a href="{% url 'board:subcategory' thread.category.id %}">{{thread.category.name}}</a></li>
  <li class="active">{{thread.title}}</li>
</ol>
{% endblock %}

{% block content %}
{% if posts.number == 1 %}
{% include 'partials/board/thread/thread.html' %}
{% endif %}
{% if posts %}
{% for post in posts %}
{% include 'partials/board/thread/post.html' %}
{% endfor %}
{% endif %}
<center>
  <nav>
    <ul class="pagination">
      {% if posts.has_previous %}
      <li><a href="?page=1"><i class="fa fa-angle-double-left"></i></a></li>
      <li><a href="?page={{posts.previous_page_number}}"><i class="fa fa-angle-left"></i></a></li>
      {% else %}
      <li class="disabled"><a><i class="fa fa-angle-double-left"></i></a></li>
      <li class="disabled"><a><i class="fa fa-angle-left"></i></a></li>
      {% endif %}
      {% for page in posts.paginator.page_range %}
      {% if page == posts.number %}
      <li class="active"><a>{{page}}</a></li>
      {% else %}
      <li><a href="?page={{page}}">{{page}}</a></li>
      {% endif %}
      {% endfor %}
      {% if posts.has_next %}
      <li><a href="?page={{posts.next_page_number}}"><i class="fa fa-angle-right"></i></a></li>
      <li><a href="?page={{posts.paginator.num_pages}}"><i class="fa fa-angle-double-right"></i></a></li>
      {% else %}
      <li class="disabled"><a><i class="fa fa-angle-right"></i></a></li>
      <li class="disabled"><a><i class="fa fa-angle-double-right"></i></a></li>
      {% endif %}
    </ul>
  </nav>
</center>
{% if user.is_authenticated %}
{% include 'partials/board/thread/new_post.html' %}
{% endif %}
{% endblock %}
